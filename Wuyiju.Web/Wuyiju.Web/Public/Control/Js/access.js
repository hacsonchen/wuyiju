$(document).ready(function(){$('body').on('click', '[level="1"]:checkbox', function(){var chk = $(this).is(':checked');var inputs = $(this).parents('.app').find('[level="2"]:checkbox,[level="3"]:checkbox');inputs.each(function(i, e){$(e).prop('checked', chk);});});$('body').on('click', '[level="2"]:checkbox', function(){var flag = 0;var chk = $(this).is(':checked');var level_1 = $(this).parents('.app').find('[level="1"]:checkbox');var level_2 = $(this).parents('.app').find('[level="2"]:checkbox');var inputs = $(this).parents('dl').find('[level="3"]:checkbox');inputs.each(function(i, e){$(e).prop('checked', chk);});level_2.each(function(i, e){flag += $(e).is(':checked') ? 1 : 0;});if(flag > 0){level_1.prop('checked', true);}else{level_1.prop('checked', false);}});$('body').on('click', '[level="3"]:checkbox', function(){var flag = 0;var chk = $(this).parents('dl').find('[level="2"]:checkbox');var level_1 = $(this).parents('.app').find('[level="1"]:checkbox');var level_2 = $(this).parents('.app').find('[level="2"]:checkbox');$(this).parents('dl').find('[level="3"]:checkbox').each(function(i, e){flag += $(e).is(':checked') ? 1 : 0;});if(flag > 0){chk.prop('checked', true);}else{chk.prop('checked', false);}flag = 0;level_2.each(function(i, e){flag += $(e).is(':checked') ? 1 : 0;});if(flag > 0){level_1.prop('checked', true);}else{level_1.prop('checked', false);}});});